/**
* $dom library (v0.9.2b) copyright 2009, 2010, 2011 Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*
* Copyright 2011 Julien Wajsberg
* Licensed under the MIT License
* http://github.com/julienw/dollardom
*/(function(a){function O(a){while(a.firstChild)a.removeChild(a.firstChild)}function N(a,b,c){(c?L:M)(a,b)}function M(a,b){K(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,""))}function L(a,b){K(a,b)||(a.className+=" "+b)}function K(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function J(a,b){a=a.parentNode.lastChild;return x(a,"previousSibling",b)}function I(a,b){a=a.parentNode.firstChild;return x(a,"nextSibling",b)}function H(a,b){return z(a,"previousSibling",b)}function G(a,b){return z(a,"nextSibling",b)}function F(a,b){return z(a,"parentNode",b)}function E(a,c){return v(c||b,a)}function D(a){j.push(a)}function C(a,c){var d=t(a)[0],e=d.uTag;if(!e)return null;var f=(c||b).createElement(e),g=d.id,h=d.classes;g&&(f.id=g),h&&(f.className=h.join(" "));return f}function B(){function i(){try{c.doScroll("left")}catch(b){a.setTimeout(i,20);return}h()}function h(b){if(!d){d=!0,f&&(f=a.clearTimeout(f));for(var c=0,e=j.length;c<e;c++)j[c]()}}var d,f,g;if(/loaded|complete/.test(b.readyState))a.setTimeout(h,0);else if(b.addEventListener)b.addEventListener("DOMContentLoaded",h,e),b.addEventListener("load",h,e);else if(b.attachEvent){b.attachEvent("onload",h);var k=!1;try{k=a.frameElement===null}catch(l){}k&&c.doScroll&&i()}}function A(a,b){if(a.className==="")return e;for(var c=0;c<b.length;c++)if(!K(a,b[c]))return e;return d}function z(a,b,c){return x(a[b],b,c)}function y(a,b){b=t(b)[0];return a&&w(a,b)}function x(a,b,c){c=t(c)[0];while(a&&!w(a,c)&&(a=a[b]));return a}function w(a,b){if(!b)return!0;var c=b.uTag,d=b.id,e=b.classes;return a.nodeType===1&&(!c||c==a.tagName)&&(!d||d==a.id)&&(!e||!!A(a,e))}function v(a,c){function h(a){for(var b=i.length;b--;)if(i[b]===a)return d;return e}function g(a){try{return Array.prototype.slice.call(a)}catch(b){var c=[];for(var d=0,e=a.length;d<e;d++)c.push(a[d]);return c}}function f(a,c){var d,e=c.id?(d=(a&&a.ownerDocument||b).getElementById(c.id))&&u(d,a)?[d]:[]:g(a.getElementsByTagName(c.uTag||"*"));d=e.length;if(d>0&&(c.id||c.classes))while(d--)w(e[d],c)||e.splice(d,1);return e}var i=[],j=[a],k=t(c),l,m,n,o,p,q,r,s,v;k.length||(k=[{}]);for(l=0,m=k.length;l<m;l++){r=k[l];for(n=0,o=j.length;n<o;n++){s=j[n];switch(r.rel){case">":var x=s.childNodes;for(p=0,q=x.length;p<q;p++)w(x[p],r)&&i.push(x[p]);break;case"~":while(s=s.nextSibling)if(w(s,r)){if(h(s))break;i.push(s)}break;case"+":while((s=s.nextSibling)&&s.nodeType!=1);s&&w(s,r)&&i.push(s);break;default:v=f(s,r);if(l>0)for(p=0,q=v.length;p<q;p++)h(v[p])||i.push(v[p]);else i=i.concat(v)}}if(!i.length)return[];j=i.splice(0,i.length)}return j}function u(a,b){while((a=a.parentNode)&&a!=b);return a!==null}function t(a){var b,c=[];if(typeof a=="string")while(a){b=a.match(h);if(b[0]==="")break;c.push({rel:b[1],uTag:(b[2]||"").toUpperCase(),id:b[3],classes:b[4]?b[4].split("."):f}),a=a.substring(b[0].length)}return c}function s(a,b,c){if(c===f){if(typeof b=="string")return p(a,b)||0;for(var d in b)q(a,d,b[d])}else q(a,b,c)}function r(a){return l[a]||(l[a]=a.replace(i,function(a,b){return b.toUpperCase()}))}function q(a,b,c){var d=r(b),e=m[d];return e&&e.set?e.set(a,c):a.style[d]=c}var b=a.document,c=b.documentElement,d=!0,e=!1,f,g,h=/^\s*([>+~])?\s*([*\w-]+)?(?:#([\w-]+))?(?:\.([\w.-]+))?\s*/i,i=/-(\w)/g,j=[],k=[],l={"float":"cssFloat"in c.style?"cssFloat":"styleFloat"},m={borderWidth:{get:function(a){return p(a,"border-left-width")}},padding:{get:function(a){return p(a,"padding-left")}},margin:{get:function(a){return p(a,"margin-left")}}};!("opacity"in c.style)&&"filters"in c&&(m.opacity={set:function(a,b){var c=a.filters.alpha;c?c.opacity=b*100:a.style.filter+=" Alpha(opacity="+b*100+")"},get:function(a){var b=a.filters.alpha;return b?b.opacity/100:1}}),"clientWidth"in c&&(m.width={get:function(a){return a.style.width||a.clientWidth||a.offsetWidth}}),"clientHeight"in c&&(m.height={get:function(a){return a.style.height||a.clientHeight||a.offsetHeight}});var n=a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(b,c,d){var e=b.uniqueID+c+d;k[e]=function(){var b=a.event;b.target=b.srcElement,b.preventDefault=function(){b.returnValue=!0},b.stopPropagation=function(){b.cancelBubble=!0},d(b)},b.attachEvent("on"+c,k[e])},o=a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){var d=a.uniqueID+b+c;a.detachEvent("on"+b,k[d]),delete k[d]},p=b.defaultView&&b.defaultView.getComputedStyle?function(a,b){var c=r(b),d=m[c];return d&&d.get?d.get(a):a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var c=r(b),d=m[c];return d&&d.get?d.get(a):a.currentStyle[c]},P={create:C,onready:D,addEvent:n,removeEvent:o,get:E,descendants:v,ancestor:F,next:G,previous:H,first:I,last:J,empty:O,is:y,hasClass:K,addClass:L,removeClass:M,toggleClass:N,style:s};a.$dom=P,B()})(this)
